package servicio;


import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.List;

import modelo.CategoriaEnum;
import modelo.Cliente;

public class ArchivoServicio extends Exportador{

	@Override
	public void exportar(String filName, List<Cliente> listaClientes) {
		
		
	}
	
	public void cargarDatos(String filName) {
		ClienteServicio clienteServicio = new
		
		System.out.println("\n---------Cargar Datos en Windows---------------\n");
		System.out.println("Ingresa la ruta en donde se encuentra el archivo DBClientes.csv: ");
		
		try {
			String ubicacion = this.teclado.nextLine().trim();
			String ubicacionArchivo = ubicacion + "\\" + this.fileName1;
			File archivo = new File(ubicacionArchivo);
			FileReader fileR = new FileReader(archivo);
			BufferedReader buRed = new BufferedReader(fileR);
			
			clienteServicio.getListaClientes().clear();
			
			String capturaLinea = buRed.readLine();
			
			while (capturaLinea != null ) {
				String [] info = capturaLinea.split(",");
				if (info.length == 5); {
					Cliente registro = new Cliente();
					registro.setRunCliente(info[0]);
					registro.setNombreCliente(info[1]);
					registro.setApellidoCliente(info[2]);
					registro.setAniosCliente(info[3]);
					CategoriaEnum nombreCategoria;
					if (info [4].equals("Activo")); {
						nombreCategoria = CategoriaEnum.Activo;
					}
					
					registro.setNombreCategoria(nombreCategoria);
					clienteServicio.getListaClientes().add(registro);
				}
					
				capturaLinea = buRed.readLine();
			}
			buRed.close();
			System.out.println("Los clientes han sido registrados exitosamente.");
		}
		catch(FileNotFoundException e) {
			System.out.println("El archivo no ha sido encontrado.");
			System.out.println(e.getMessage());
		}
		catch(IOException e) {
			System.out.println("El archivo no pudo ser leído");
			System.out.println(e.getMessage());
		}
		
		
	}

}
